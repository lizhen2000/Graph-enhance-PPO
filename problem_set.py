import torch

device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')

PARTCOUNT = 80
STOP_ACTION = 80  #终止动作编号
TARGET_PARTS = {8, 14, 30, 47, 55, 63, 69, 78}

vp = [
    # 拆卸时间（150 个零件 + 1 个虚拟节点）
    [
        13, 6, 23, 23, 34, 16, 23, 13, 24, 12, 12, 33, 33, 12, 14, 33, 15, 12, 14, 25, 
        14, 24, 12, 15, 11, 13, 24, 23, 23, 11, 33, 24, 25, 15, 28, 27, 15, 26, 11, 26, 
        23, 13, 23, 27, 19, 15, 30, 6, 16, 14, 7, 19, 30, 23, 33, 13, 16, 25, 28, 23, 
        25, 12, 24, 33, 15, 14, 24, 14, 26, 27, 23, 30, 15, 16, 27, 37, 25, 32, 33, 12, 0
    ],

    # 拆卸利润
    [
        161, 214, 185, 71, 68, 54, 279, 420, 291, 134, 72, 279, 139, 279, 54, 290, 96, 45, 139, 118, 
        74, 185, 96, 40, 72, 217, 383, 383, 74, 111, 139, 257, 145, 138, 40, 156, 30, 138, 120, 137, 
        54, 71, 40, 94, 383, 140, 123, 224, 257, 138, 192, 93, 145, 134, 87, 72, 111, 94, 80, 167, 
        178, 87, 87, 420, 420, 109, 137, 169, 128, 185, 87, 152, 40, 161, 139, 80, 72, 80, 30, 257, 0
    ],

    # 是否有连接件（0/1）
    [
        0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 
        1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 
        1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 
        1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0 
    ],

    # 零件级碳排放等级（和 60 件时同一取值范围）
    [
        4, 4, 3, 5, 3, 7, 1, 4, 6, 8, 7, 8, 5, 5, 0, 3, 8, 2, 8, 8, 
        4, 4, 6, 6, 2, 0, 8, 7, 7, 0, 7, 1, 4, 8, 7, 5, 3, 8, 3, 4, 
        8, 0, 7, 1, 5, 6, 5, 4, 6, 3, 2, 8, 7, 6, 8, 3, 8, 2, 4, 3, 
        4, 3, 2, 8, 0, 7, 3, 7, 6, 8, 0, 2, 5, 2, 0, 2, 2, 0, 1, 1, 0 
    ],

    # 拆卸方向
    [
        1, 2, 5, 4, 5, 0, 5, 0, 3, 3, 4, 2, 0, 3, 3, 2, 1, 5, 5, 0, 
        3, 1, 1, 4, 2, 5, 2, 2, 1, 4, 3, 1, 5, 3, 1, 1, 2, 3, 2, 1, 
        1, 1, 3, 0, 3, 1, 3, 1, 4, 2, 4, 0, 1, 2, 2, 3, 2, 3, 4, 5, 
        4, 4, 2, 0, 5, 2, 5, 1, 4, 2, 1, 0, 4, 0, 0, 2, 1, 0, 2, 2, 0 
    ],

    # 拆卸工具
    [
        3, 4, 8, 3, 6, 3, 1, 8, 8, 3, 4, 3, 2, 3, 8, 8, 8, 8, 6, 8, 
        4, 6, 8, 8, 6, 3, 6, 4, 8, 3, 3, 4, 6, 8, 8, 5, 6, 1, 3, 4, 
        3, 3, 7, 6, 7, 4, 1, 7, 8, 6, 4, 6, 5, 3, 8, 3, 8, 2, 7, 6, 
        5, 4, 8, 2, 6, 3, 6, 4, 2, 8, 1, 8, 3, 2, 8, 6, 7, 8, 6, 5, 0
    ],

    # 单元拆卸工具
    [
        5, 5, 5, 2, 5, 6, 4, 5, 2, 8, 2, 5, 5, 5, 4, 6, 3, 8, 2, 3, 
        8, 5, 2, 6, 5, 5, 8, 6, 8, 6, 5, 6, 4, 5, 4, 6, 2, 5, 4, 8, 
        2, 5, 5, 5, 5, 4, 8, 8, 6, 6, 8, 4, 3, 3, 5, 4, 6, 5, 5, 3, 
        3, 6, 8, 6, 4, 6, 6, 5, 5, 5, 5, 5, 2, 5, 4, 5, 2, 2, 5, 2, 0 
    ],
]

# 拆卸成本（150+1）
cxcb = [
    1, 4, 1, 3, 6.0, 3.0, 8.0, 6.0, 7.0, 4.0, 5.0, 3.0, 4.0, 1.0, 3.0, 4.0, 7.0,
    7.0, 4, 7.0, 2.0, 1.0, 7.0, 8, 6.0, 1.0, 4.0, 2.0, 2.0,
    3.0, 3.0, 9.0, 4, 1.0, 6.0, 5.0, 4.0, 8.0, 2.0, 9.0, 5.0, 3.0, 2.0,
    4.0, 2, 7.0, 2.0, 7.0, 8.0, 1.0, 4.0, 4.0, 1.0, 3.0, 4,
    3.0, 1.0, 9.0, 2.0, 3.0, 3.0, 6.0, 1.0, 2.0, 7.0, 6.0, 1.0, 3.0, 5.0, 2.0, 5.0, 3.0,
    3.0, 3.0, 1.0, 4.0, 3.0, 1.0, 2.0, 9.0, 0.0
    ]   


# 单元碳排放（150+1）
dytpf = [
    72.7224, 49.3553, 32.8972, 24.4455, 49.3553, 23.2368, 25.2236, 45.9367, 35.5283, 16.4055, 
    11.8224, 40.7981, 11.6213, 66.7022, 13.2296, 28.2192, 24.4455, 49.8462, 65.7762, 49.8462, 
    38.8265, 66.7022, 11.6213, 23.2425, 18.3959, 20.6126, 32.8972, 46.2607, 66.7022, 66.7022, 
    57.8828, 50.4547, 49.2363, 18.0955, 37.9279, 18.0955, 45.0464, 19.6040, 57.8828, 37.3306, 
    57.8828, 15.5325, 34.2788, 45.0464, 25.2236, 11.6213, 72.7224, 19.6040, 45.0464, 66.7022, 
    22.0452, 13.8523, 52.0014, 37.9279, 49.2363, 49.6730, 66.7022, 22.0751, 45.9367, 18.0955, 
    65.7762, 18.6117, 34.2788, 23.2425, 22.0452, 49.6730, 37.9279, 23.2368, 28.2192, 34.2788, 
    38.8265, 35.5283, 19.7497, 66.7022, 28.2192, 22.0751, 49.2363, 16.4055, 13.8523, 18.3959,
    0.0000, 
]





# 方向改变惩罚矩阵
direction = [
    [0, 2, 1, 1, 1, 1],
    [2, 0, 1, 1, 1, 1],
    [1, 1, 0, 2, 1, 1],
    [1, 1, 2, 0, 1, 1],
    [1, 1, 1, 1, 0, 2],
    [1, 1, 1, 1, 2, 0]
]

# 工具改变惩罚矩阵
tool = [
    [0, 6, 3, 5, 4, 6, 5, 5, 5],
    [6, 0, 3, 5, 4, 6, 5, 5, 5],
    [3, 3, 0, 2, 1, 3, 2, 2, 2],
    [5, 5, 2, 0, 3, 5, 4, 4, 4],
    [4, 4, 1, 3, 0, 4, 3, 3, 3],
    [6, 6, 3, 5, 4, 0, 5, 5, 5],
    [5, 5, 2, 4, 3, 5, 0, 4, 4],
    [5, 5, 2, 4, 3, 5, 4, 0, 4],
    [5, 5, 2, 4, 3, 5, 4, 4, 0]
]